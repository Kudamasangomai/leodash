import{p as y,u as _,g as a,a as o,d as r,h as B,w as d,i as m,b as e,f,o as n,F as h,s as E,t as i,e as F,j as v,v as w,B as P}from"./app-Cbg-TvRk.js";import{_ as $}from"./AuthenticatedLayout-CrP1IZML.js";import{M as j}from"./MainContent-Btj49-6j.js";import{P as z,a as T}from"./PageTitle-CpPTCgXs.js";import{P as C}from"./PrimaryButton-QfSp1xYP.js";import{_ as S,a as M}from"./SecondaryButton-DUIlwm0n.js";import{E as H}from"./Editicon-B70ftlrJ.js";import{D as R}from"./DangerButton-Cr76u4Q2.js";import{S as I}from"./Spinner-BzsEjpUj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={key:0,class:"flex items-center"},O={class:"px-2 overflow-x-auto"},Y={class:"min-w-full border border-gray-200"},q={class:"text-center divide-y divide-gray-200"},G={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},J={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},K={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Q={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200 flex gap-2"},W=["onClick"],X={key:1},Z={class:"p-6 bg-white"},ee={class:"mb-4 text-lg font-medium text-gray-900"},te={key:0,class:"mt-1 text-sm text-red-600"},se={key:0,class:"mt-1 text-sm text-red-600"},re={key:0},oe={key:0,class:"mt-1 text-sm text-red-600"},le={key:0,class:"mt-1 text-sm text-red-600"},ae={class:"flex justify-end gap-3 mt-6"},de={key:0,class:"flex items-center gap-2"},ne={class:"p-6 bg-white"},ie={class:"flex justify-end gap-3 mt-6"},ke={__name:"users",props:{users:Array},setup(b){const c=y(!1),k=y(!1),u=y(null),g=_({}),U=y(null),s=_({name:"",email:"",role:"",password:""}),N=()=>{u.value=null,s.reset(),c.value=!0},V=x=>{u.value=x,s.name=x.name,s.email=x.email,s.role=x.role,s.password=x.password,c.value=!0},D=()=>{u.value?s.put(`/users/${u.value.id}`,{preserveScroll:!0,onSuccess:()=>{p(),s.reset("form")}}):s.post(route("users.store"),{preserveScroll:!0,onSuccess:()=>{s.reset("form"),c.value=!1}})},A=()=>{g.delete(`/users/${U.value.id}`,{onSuccess:()=>p()})},p=()=>{c.value=!1,u.value=null,k.value=!1,s.reset()};return(x,t)=>(n(),a(h,null,[o(r(B),{title:"User"}),o($,null,{default:d(()=>[o(j,null,{default:d(()=>[o(z,null,{default:d(()=>[o(T,null,{default:d(()=>[...t[4]||(t[4]=[f("Users",-1)])]),_:1}),e("div",null,[o(C,{onClick:N},{default:d(()=>[...t[5]||(t[5]=[f(" + New user ",-1)])]),_:1})])]),_:1}),r(g).recentlySuccessful?(n(),a("span",L,[...t[6]||(t[6]=[e("div",{class:"flex justify-center w-full"},[e("div",{class:"w-1/2 px-4 py-3 mb-4 text-teal-900 bg-teal-100 border-t-4 border-teal-500 rounded-b shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"w-6 h-6 mr-4 text-teal-500 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"}," Record Deleted Successfully ")])])])],-1)])])):m("",!0),e("div",O,[e("table",Y,[t[8]||(t[8]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Name "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Email "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," IS Admin "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Actions ")])],-1)),e("tbody",q,[b.users&&b.users.length?(n(!0),a(h,{key:0},E(b.users,l=>(n(),a("tr",{key:b.users.id,class:"odd:bg-gray-50"},[e("td",G,i(l.name),1),e("td",J,i(l.email),1),e("td",K,i(l.role===0?"NO":"Yes"),1),e("td",Q,[e("button",{onClick:ue=>V(l)},[o(H)],8,W)])]))),128)):(n(),a("tr",X,[...t[7]||(t[7]=[e("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"}," Nothing to show ",-1)])]))])])])]),_:1}),o(S,{show:c.value,onClose:p},{default:d(()=>[e("div",Z,[e("h2",ee,i(u.value?"Edit User":"Create New User"),1),e("form",{onSubmit:F(D,["prevent"]),class:"space-y-4"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r(s).name=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[w,r(s).name]]),r(s).errors.name?(n(),a("div",te,i(r(s).errors.name),1)):m("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(s).email=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[w,r(s).email]]),r(s).errors.email?(n(),a("div",se,i(r(s).errors.email),1)):m("",!0)]),u.value?(n(),a("div",re,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Role",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>r(s).role=l),id:"inputState",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},[...t[11]||(t[11]=[e("option",{value:"1"},"Admin",-1),e("option",{value:"0"},"User",-1)])],512),[[P,r(s).role]]),r(s).errors.role?(n(),a("div",oe,i(r(s).errors.role),1)):m("",!0)])):m("",!0),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>r(s).password=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[w,r(s).password]]),r(s).errors.password?(n(),a("div",le,i(r(s).errors.password),1)):m("",!0)]),e("div",ae,[o(M,{onClick:p},{default:d(()=>[...t[14]||(t[14]=[f("Cancel",-1)])]),_:1}),o(C,{type:"submit",disabled:r(s).processing},{default:d(()=>[f(i(u.value?"Update":"Create")+" ",1),r(s).processing?(n(),a("span",de,[o(I)])):m("",!0)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),o(S,{show:k.value,onClose:p},{default:d(()=>[e("div",ne,[t[17]||(t[17]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this record? ",-1)),e("div",ie,[o(M,{onClick:p},{default:d(()=>[...t[15]||(t[15]=[f("Cancel",-1)])]),_:1}),o(R,{onClick:A,disabled:r(g).processing},{default:d(()=>[...t[16]||(t[16]=[f(" Delete ",-1)])]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{ke as default};
