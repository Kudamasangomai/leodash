import{p as h,u as F,g as r,a as o,d as u,h as B,w as l,b as t,f as p,e as P,i as f,o as a,t as n,F as _,s as k}from"./app-B9e9p2eJ.js";import{_ as $}from"./AuthenticatedLayout-Bc0lm461.js";import{M as j}from"./MainContent-CDVEKC1x.js";import{P as L,a as M}from"./PageTitle-NEs79EAO.js";import{P as N}from"./PrimaryButton-D8HudILd.js";import{a as g,_ as C}from"./SecondaryButton-Bpc_ks0m.js";import{S as V}from"./Spinner-BfJUZ2H-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"p-6 mb-4 space-y-6 rounded shadow-sm"},O={key:0,class:"mt-1 text-sm text-red-600"},R={class:"flex items-center"},D={key:0,class:"flex items-center"},U={class:"px-2 overflow-x-auto"},q={class:"mb-2 text-right"},G={id:"table-",class:"min-w-full border border-gray-200"},H={class:"divide-y divide-gray-200 whitespace-nowrap"},I={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},z={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},J={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},K={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Q={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},W={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},X={key:0},Y={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Z={key:0},tt={key:1},et={class:"p-4 bg-green-200"},st={class:"flex justify-end mt-6"},ot={class:"p-4"},rt={class:"text-lg font-medium text-gray-900"},lt={class:"font-bold"},at={class:"flex justify-end mt-6"},xt={__name:"show",props:{v:Object,reports:Array},setup(v){const x=h(!1),y=h(!1),c=()=>{x.value=!1,y.value=!1},d=F({file:null});function S(i){const e=i.target.files&&i.target.files[0]?i.target.files[0]:null;d.file=e}function T(){d.file&&d.post("/moving-report/upload",{preserveScroll:!0,onSuccess:()=>{d.reset(),x.value=!0},onError:()=>{}})}function E(){const i=document.getElementById("table-");if(!i)return;let e="";for(const m of i.rows){const b=Array.from(m.cells).map(w=>w.innerText.trim()).join("	");e+=b+`
`}const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),y.value=!0}return(i,e)=>(a(),r(_,null,[o(u(B),{title:"Early Start"}),o($,null,{default:l(()=>[o(j,null,{default:l(()=>[o(L,null,{default:l(()=>[o(M,null,{default:l(()=>[...e[2]||(e[2]=[p(" Early Start Report",-1)])]),_:1}),e[3]||(e[3]=t("div",null,[t("div")],-1))]),_:1}),t("div",A,[t("form",{onSubmit:P(T,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"}," Select Excel File (.xls or .xlsx) ",-1)),t("input",{type:"file",accept:".xlsx,.xls",onChange:S,required:"",class:"block w-full p-4 mt-1 text-sm text-gray-700"},null,32),u(d).errors.file?(a(),r("div",O,n(u(d).errors.file),1)):f("",!0)]),t("div",R,[o(N,{type:"submit",disabled:u(d).processing},{default:l(()=>[e[5]||(e[5]=p(" Upload ",-1)),u(d).processing?(a(),r("span",D,[o(V)])):f("",!0)]),_:1},8,["disabled"]),o(g,{type:"button",class:"ms-3",onClick:e[0]||(e[0]=s=>u(d).reset("file"))},{default:l(()=>[...e[6]||(e[6]=[p(" Cancel ",-1)])]),_:1})])],32)]),t("div",U,[t("div",q,[t("button",{onClick:e[1]||(e[1]=s=>E()),class:"px-3 py-1 text-white bg-blue-500 rounded hover:bg-blue-600"}," Copy Table ")]),t("table",G,[e[8]||(e[8]=t("thead",{class:"bg-gray-200"},[t("tr",null,[t("th",{class:"p-2 border"},"Location"),t("th",{class:"p-2 border"},"Early Trucks"),t("th",{class:"p-2 border"},"Trucks E/R"),t("th",{class:"p-2 border"},"1st Truck"),t("th",{class:"p-2 border"},"Last Truck"),t("th",{class:"p-2 border"},"Last 3 Trucks"),t("th",{class:"p-2 border"},"After 6")])],-1)),t("tbody",H,[v.reports?(a(!0),r(_,{key:0},k(v.reports,s=>(a(),r("tr",{key:s.id,class:"text-center odd:bg-gray-50"},[t("td",I,n(s.location),1),t("td",z,n(s.total_trucks),1),t("td",J,n(s.total_trucks),1),t("td",K,n(s.first_time),1),t("td",Q,n(s.last_time),1),t("td",W,[s.last_3&&s.last_3.length?(a(),r("p",X,[(a(!0),r(_,null,k(s.last_3,(m,b)=>(a(),r("span",{key:b,class:"inline-block px-2 py-1 mr-1 rounded"},n(m.asset)+" ("+n(m.time)+") ",1))),128))])):f("",!0)]),t("td",Y,[s.last_3_after_6am!==void 0?(a(),r("p",Z,n(s.last_3_after_6am),1)):f("",!0)])]))),128)):(a(),r("tr",tt,[...e[7]||(e[7]=[t("td",null,"nothign to show",-1)])]))])])])]),_:1}),o(C,{show:x.value,onClose:c},{default:l(()=>[t("div",et,[e[10]||(e[10]=t("h2",{class:"text-lg font-medium text-gray-900"}," Early Start Report Succesfully Generated ",-1)),t("div",st,[o(g,{onClick:c},{default:l(()=>[...e[9]||(e[9]=[p(" Ok ",-1)])]),_:1})])])]),_:1},8,["show"]),o(C,{show:y.value,onClose:c},{default:l(()=>[t("div",ot,[t("h2",rt,[t("span",lt,n(i.selectedEventType),1),e[11]||(e[11]=p(" Succesfully Copied to Clipboard ",-1))]),t("div",at,[o(g,{onClick:c},{default:l(()=>[...e[12]||(e[12]=[p(" Ok ",-1)])]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{xt as default};
