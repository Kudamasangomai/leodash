import{p as c,u as h,g as d,a as o,d as l,h as E,w as r,i as b,b as e,f as p,o as n,F as k,s as P,t as m,e as T,j as C,v as N}from"./app-Df6YB4EY.js";import{_ as z}from"./AuthenticatedLayout-CAxezRTt.js";import{M as H}from"./MainContent-BQ80gGTF.js";import{P as R,a as U}from"./PageTitle-DlFCvucu.js";import{P as D}from"./PrimaryButton-JWqA-FVe.js";import{_ as M,a as S}from"./SecondaryButton-DjAtAzFr.js";import{D as L}from"./Deleteicon-CVSdxAF_.js";import{E as Q}from"./Editicon-CgJ3wk_X.js";import{D as q}from"./DangerButton-DNbN0Gjn.js";import{S as G}from"./Spinner-DxYXfST1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={key:0,class:"flex items-center"},J={class:"px-2 overflow-x-auto"},K={class:"min-w-full border border-gray-200"},O={class:"text-center divide-y divide-gray-200"},W={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},X={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Y={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Z={class:"px-4 py-3 text-[14px] justify-center text-slate-900 border-r border-gray-200 flex gap-2"},ee=["onClick"],te=["onClick"],se={key:1},oe={class:"p-6 bg-white"},le={class:"mb-4 text-lg font-medium text-gray-900"},re={key:0,class:"mt-1 text-sm text-red-600"},ae={key:0,class:"mt-1 text-sm text-red-600"},de={class:"flex justify-end gap-3 mt-6"},ne={key:0,class:"flex items-center gap-2"},ie={class:"p-6 bg-white"},ue={class:"flex justify-end gap-3 mt-6"},he={__name:"notes",props:{notes:Array},setup(y){const f=c(!1),v=c(!1),g=c(null),i=c(null);c(null);const _=h({});c(!1);const s=h({note:"",sidenote:""}),F=()=>{i.value=null,s.reset(),f.value=!0},V=u=>{i.value=u,s.note=u.note,s.sidenote=u.sidenote,f.value=!0},$=()=>{i.value?s.put(`/notes/${i.value.id}`,{onSuccess:()=>x()}):s.post("/notes",{onSuccess:()=>x()})},x=()=>{f.value=!1,s.reset(),i.value=null},B=u=>{g.value=u,v.value=!0},w=()=>{v.value=!1,g.value=null},j=()=>{_.delete(`/notes/${g.value.id}`,{onSuccess:()=>w()})};return(u,t)=>(n(),d(k,null,[o(l(E),{title:"Notes"}),o(z,null,{default:r(()=>[o(H,null,{default:r(()=>[o(R,null,{default:r(()=>[o(U,null,{default:r(()=>[...t[2]||(t[2]=[p("Quick Notes / Reminders / Todo list",-1)])]),_:1}),e("div",null,[o(D,{onClick:F},{default:r(()=>[...t[3]||(t[3]=[p(" + New Note ",-1)])]),_:1})])]),_:1}),l(_).recentlySuccessful?(n(),d("span",I,[...t[4]||(t[4]=[e("div",{class:"flex justify-center w-full"},[e("div",{class:"w-1/2 px-4 py-3 mb-4 text-teal-900 bg-teal-100 border-t-4 border-teal-500 rounded-b shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"w-6 h-6 mr-4 text-teal-500 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"}," Record Deleted Successfully ")])])])],-1)])])):b("",!0),e("div",J,[e("table",K,[t[6]||(t[6]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Date "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Notes "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Side Note "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Actions ")])],-1)),e("tbody",O,[y.notes&&y.notes.length?(n(!0),d(k,{key:0},P(y.notes,a=>(n(),d("tr",{key:a.id,class:"odd:bg-gray-50"},[e("td",W,m(a.created_at),1),e("td",X,m(a.note),1),e("td",Y,m(a.sidenote),1),e("td",Z,[e("button",{onClick:A=>V(a)},[o(Q)],8,ee),e("button",{onClick:A=>B(a)},[o(L)],8,te)])]))),128)):(n(),d("tr",se,[...t[5]||(t[5]=[e("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"}," Nothing to show ",-1)])]))])])])]),_:1}),o(M,{show:f.value,onClose:x},{default:r(()=>[e("div",oe,[e("h2",le,m(i.value?"Edit Note":"Create New Note"),1),e("form",{onSubmit:T($,["prevent"]),class:"space-y-4"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Note",-1)),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>l(s).note=a),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[N,l(s).note]]),l(s).errors.note?(n(),d("div",re,m(l(s).errors.note),1)):b("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Side note",-1)),C(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>l(s).sidenote=a),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[N,l(s).sidenote]]),l(s).errors.sidenote?(n(),d("div",ae,m(l(s).errors.sidenote),1)):b("",!0)]),e("div",de,[o(S,{onClick:x},{default:r(()=>[...t[9]||(t[9]=[p("Cancel",-1)])]),_:1}),o(D,{type:"submit",disabled:l(s).processing},{default:r(()=>[p(m(i.value?"Update":"Create")+" ",1),u.isFetching||l(s).processing?(n(),d("span",ne,[o(G)])):b("",!0)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),o(M,{show:v.value,onClose:w},{default:r(()=>[e("div",ie,[t[12]||(t[12]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this repair record? ",-1)),e("div",ue,[o(S,{onClick:w},{default:r(()=>[...t[10]||(t[10]=[p("Cancel",-1)])]),_:1}),o(q,{onClick:j,disabled:l(_).processing},{default:r(()=>[...t[11]||(t[11]=[p(" Delete ",-1)])]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{he as default};
