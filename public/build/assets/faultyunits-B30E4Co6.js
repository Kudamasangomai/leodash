import{p as b,u as C,g as d,a as r,d as s,h as $,w as n,i as p,b as e,f as c,o as i,F,s as B,t as a,e as j,j as f,v,z}from"./app-BiNClEIv.js";import{_ as A}from"./AuthenticatedLayout-BDTbnRUN.js";import{M as E}from"./MainContent-ClWYe3aQ.js";import{P,a as R}from"./PageTitle-C_OOQhDH.js";import{P as D}from"./PrimaryButton-Bn02N1uf.js";import{_ as M,a as S}from"./SecondaryButton-Bv0EOaR5.js";import{D as H}from"./Deleteicon-Br6Xru-j.js";import{E as G}from"./Editicon-LMUvYLdn.js";import{D as Q}from"./DangerButton-BMuXqHmN.js";import{S as q}from"./Spinner-D4w0OTbu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={key:0,class:"flex items-center hidden"},J={class:"px-2 overflow-x-auto"},K={class:"min-w-full border border-gray-200"},W={class:"text-center divide-y divide-gray-200"},X={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Y={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Z={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},ee={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},te={class:"px-4 py-3 text-[14px] border-r border-gray-200"},oe={class:"px-4 py-3 text-[14px] justify-center text-slate-900 border-r border-gray-200 flex gap-2"},se=["onClick"],le=["onClick"],re={key:1},ae={class:"p-6 bg-white"},de={class:"mb-4 text-lg font-medium text-gray-900"},ne={class:"overflow-y-auto h-72 scrollbars show"},ie={key:0,class:"mt-1 text-sm text-red-600"},ue={key:0,class:"mt-1 text-sm text-red-600"},me={key:0,class:"mt-1 text-sm text-red-600"},pe={key:0,class:"mt-1 text-sm text-red-600"},ce={key:0,class:"mt-1 text-sm text-red-600"},fe={class:"flex justify-end gap-3 mt-6"},ye={key:0,class:"flex items-center gap-2"},xe={class:"p-6 bg-white"},be={class:"flex justify-end gap-3 mt-6"},Ne={__name:"faultyunits",props:{faultyunits:Array},setup(g){const y=b(!1),_=b(!1),w=b(null),m=b(null),k=C({}),o=C({fault:"",serial_number:"",location:"",comment:"",unit_type:""}),N=()=>{m.value=null,o.reset(),y.value=!0},U=u=>{m.value=u,o.unit_type=u.unit_type,o.fault=u.fault,o.serial_number=u.serial_number,o.location=u.location,o.comment=u.comment,y.value=!0},V=()=>{m.value?o.put(`/faultyunits/${m.value.id}`,{onSuccess:()=>x()}):o.post("/faultyunits",{onSuccess:()=>x()})},x=()=>{y.value=!1,o.reset(),m.value=null},O=u=>{w.value=u,_.value=!0},h=()=>{_.value=!1,w.value=null},T=()=>{k.delete(`/faultyunits/${w.value.id}`,{onSuccess:()=>h()})};return(u,t)=>(i(),d(F,null,[r(s($),{title:"Faulty Units"}),r(A,null,{default:n(()=>[r(E,null,{default:n(()=>[r(P,null,{default:n(()=>[r(R,null,{default:n(()=>[...t[5]||(t[5]=[c("Quick Notes / Reminders / Todo list",-1)])]),_:1}),e("div",null,[r(D,{onClick:N},{default:n(()=>[...t[6]||(t[6]=[c(" + New Note ",-1)])]),_:1})])]),_:1}),s(k).recentlySuccessful?(i(),d("span",I,[...t[7]||(t[7]=[e("div",{class:"flex justify-center w-full"},[e("div",{class:"w-1/2 px-4 py-3 mb-4 text-teal-900 bg-teal-100 border-t-4 border-teal-500 rounded-b shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"w-6 h-6 mr-4 text-teal-500 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"}," Record Deleted Successfully ")])])])],-1)])])):p("",!0),e("div",J,[e("table",K,[t[9]||(t[9]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Date "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," unit type "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Fault "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Serial Number "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Location "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Actions ")])],-1)),e("tbody",W,[g.faultyunits&&g.faultyunits.length?(i(!0),d(F,{key:0},B(g.faultyunits,l=>(i(),d("tr",{key:l.id,class:"odd:bg-gray-50"},[e("td",X,a(l.created_at),1),e("td",Y,a(l.unit_type),1),e("td",Z,a(l.fault),1),e("td",ee,a(l.serial_number),1),e("td",te,a(l.location),1),e("td",oe,[e("button",{onClick:L=>U(l)},[r(G)],8,se),e("button",{onClick:L=>O(l)},[r(H)],8,le)])]))),128)):(i(),d("tr",re,[...t[8]||(t[8]=[e("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"}," Nothing to show ",-1)])]))])])])]),_:1}),r(M,{show:y.value,onClose:x},{default:n(()=>[e("div",ae,[e("h2",de,a(m.value?"Edit Faulty Unit Record":"Create Faulty Unit Record"),1),e("div",ne,[e("form",{onSubmit:j(V,["prevent"]),class:"space-y-4"},[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Unit Type",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).unit_type=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[v,s(o).unit_type]]),s(o).errors.unit_type?(i(),d("div",ie,a(s(o).errors.unit_type),1)):p("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fault / Defects",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).fault=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[v,s(o).fault]]),s(o).errors.fault?(i(),d("div",ue,a(s(o).errors.fault),1)):p("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Serial No",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(o).serial_number=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[v,s(o).serial_number]]),s(o).errors.serial_number?(i(),d("div",me,a(s(o).errors.serial_number),1)):p("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),f(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(o).comment=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[v,s(o).comment]]),s(o).errors.comment?(i(),d("div",pe,a(s(o).errors.comment),1)):p("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Location",-1)),f(e("select",{class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm","onUpdate:modelValue":t[4]||(t[4]=l=>s(o).location=l)},[...t[14]||(t[14]=[e("option",{selected:"",disabled:"",value:""}," Choose Type ",-1),e("option",{value:"LeoSendemOffice"}," Leo Sendem Office ",-1),e("option",{value:"LeopackOffice"}," Leopack Office ",-1),e("option",{value:"MixOffice"},"Mix Office",-1),e("option",{value:"GTOffice"},"Gt Office",-1)])],512),[[z,s(o).location]]),s(o).errors.location?(i(),d("div",ce,a(s(o).errors.location),1)):p("",!0)]),e("div",fe,[r(S,{onClick:x},{default:n(()=>[...t[16]||(t[16]=[c("Cancel",-1)])]),_:1}),r(D,{type:"submit",disabled:s(o).processing},{default:n(()=>[c(a(m.value?"Update":"Create")+" ",1),s(o).processing?(i(),d("span",ye,[r(q)])):p("",!0)]),_:1},8,["disabled"])])],32)])])]),_:1},8,["show"]),r(M,{show:_.value,onClose:h},{default:n(()=>[e("div",xe,[t[19]||(t[19]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this record? ",-1)),e("div",be,[r(S,{onClick:h},{default:n(()=>[...t[17]||(t[17]=[c("Cancel",-1)])]),_:1}),r(Q,{onClick:T,disabled:s(k).processing},{default:n(()=>[...t[18]||(t[18]=[c(" Delete ",-1)])]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ne as default};
