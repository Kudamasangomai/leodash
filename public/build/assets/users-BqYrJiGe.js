import{p as v,u as _,g as a,a as l,d as r,h as A,w as n,i as u,b as e,f,o as d,F as h,s as B,t as i,e as F,j as y,v as g,B as P}from"./app-B4vetDZU.js";import{_ as $}from"./AuthenticatedLayout-Dn9BMUh1.js";import{M as j}from"./MainContent-D1CjACee.js";import{P as z,a as T}from"./PageTitle-B5Ud6UGS.js";import{P as C}from"./PrimaryButton-CoVjMa8r.js";import{_ as S,a as U}from"./SecondaryButton-vOtPkqa5.js";import{E as H}from"./Editicon-obF9BwTM.js";import{D as R}from"./DangerButton-CpRFR2rS.js";import{S as W}from"./Spinner-BEFfG9vT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={key:0,class:"flex items-center"},L={class:"px-2 overflow-x-auto"},O={class:"min-w-full border border-gray-200"},Y={class:"text-center divide-y divide-gray-200"},q={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},G={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},J={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},K={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Q={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200 flex gap-2"},X=["onClick"],Z={key:1},ee={class:"p-6 bg-white"},te={class:"mb-4 text-lg font-medium text-gray-900"},se={key:0,class:"mt-1 text-sm text-red-600"},re={key:0,class:"mt-1 text-sm text-red-600"},oe={key:0,class:"mt-1 text-sm text-red-600"},le={key:0},ae={key:0,class:"mt-1 text-sm text-red-600"},de={key:0,class:"mt-1 text-sm text-red-600"},ne={class:"flex justify-end gap-3 mt-6"},ie={key:0,class:"flex items-center gap-2"},me={class:"p-6 bg-white"},ue={class:"flex justify-end gap-3 mt-6"},he={__name:"users",props:{users:Array},setup(c){const b=v(!1),k=v(!1),m=v(null),w=_({}),M=v(null),s=_({name:"",email:"",work_email:"",role:"",password:""}),V=()=>{m.value=null,s.reset(),b.value=!0},N=p=>{m.value=p,s.name=p.name,s.email=p.email,s.work_email=p.work_email,s.role=p.role,s.password=p.password,b.value=!0},E=()=>{m.value?s.put(`/users/${m.value.id}`,{preserveScroll:!0,onSuccess:()=>{x(),s.reset("form")}}):s.post(route("users.store"),{preserveScroll:!0,onSuccess:()=>{s.reset("form"),b.value=!1}})},D=()=>{w.delete(`/users/${M.value.id}`,{onSuccess:()=>x()})},x=()=>{b.value=!1,m.value=null,k.value=!1,s.reset()};return(p,t)=>(d(),a(h,null,[l(r(A),{title:"User"}),l($,null,{default:n(()=>[l(j,null,{default:n(()=>[l(z,null,{default:n(()=>[l(T,null,{default:n(()=>[...t[5]||(t[5]=[f("Users",-1)])]),_:1}),e("div",null,[l(C,{onClick:V},{default:n(()=>[...t[6]||(t[6]=[f(" + New user ",-1)])]),_:1})])]),_:1}),r(w).recentlySuccessful?(d(),a("span",I,[...t[7]||(t[7]=[e("div",{class:"flex justify-center w-full"},[e("div",{class:"w-1/2 px-4 py-3 mb-4 text-teal-900 bg-teal-100 border-t-4 border-teal-500 rounded-b shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"w-6 h-6 mr-4 text-teal-500 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"}," Record Deleted Successfully ")])])])],-1)])])):u("",!0),e("div",L,[e("table",O,[t[9]||(t[9]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Name "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Email "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Work Email "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," IS Admin "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Actions ")])],-1)),e("tbody",Y,[c.users&&c.users.length?(d(!0),a(h,{key:0},B(c.users,o=>(d(),a("tr",{key:c.users.id,class:"odd:bg-gray-50"},[e("td",q,i(o.name),1),e("td",G,i(o.email),1),e("td",J,i(o.work_email),1),e("td",K,i(o.role===0?"NO":"Yes"),1),e("td",Q,[e("button",{onClick:pe=>N(o)},[l(H)],8,X)])]))),128)):(d(),a("tr",Z,[...t[8]||(t[8]=[e("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"}," Nothing to show ",-1)])]))])])])]),_:1}),l(S,{show:b.value,onClose:x},{default:n(()=>[e("div",ee,[e("h2",te,i(m.value?"Edit User":"Create New User"),1),e("form",{onSubmit:F(E,["prevent"]),class:"space-y-4"},[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(s).name=o),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,r(s).name]]),r(s).errors.name?(d(),a("div",se,i(r(s).errors.name),1)):u("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(s).email=o),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,r(s).email]]),r(s).errors.email?(d(),a("div",re,i(r(s).errors.email),1)):u("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Work Email",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(s).work_email=o),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,r(s).work_email]]),r(s).errors.work_email?(d(),a("div",oe,i(r(s).errors.work_email),1)):u("",!0)]),m.value?(d(),a("div",le,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Role",-1)),y(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>r(s).role=o),id:"inputState",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},[...t[13]||(t[13]=[e("option",{value:"1"},"Admin",-1),e("option",{value:"0"},"User",-1)])],512),[[P,r(s).role]]),r(s).errors.role?(d(),a("div",ae,i(r(s).errors.role),1)):u("",!0)])):u("",!0),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(s).password=o),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,r(s).password]]),r(s).errors.password?(d(),a("div",de,i(r(s).errors.password),1)):u("",!0)]),e("div",ne,[l(U,{onClick:x},{default:n(()=>[...t[16]||(t[16]=[f("Cancel",-1)])]),_:1}),l(C,{type:"submit",disabled:r(s).processing},{default:n(()=>[f(i(m.value?"Update":"Create")+" ",1),r(s).processing?(d(),a("span",ie,[l(W)])):u("",!0)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),l(S,{show:k.value,onClose:x},{default:n(()=>[e("div",me,[t[19]||(t[19]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this record? ",-1)),e("div",ue,[l(U,{onClick:x},{default:n(()=>[...t[17]||(t[17]=[f("Cancel",-1)])]),_:1}),l(R,{onClick:D,disabled:r(w).processing},{default:n(()=>[...t[18]||(t[18]=[f(" Delete ",-1)])]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{he as default};
