import{x as A,p as f,u as k,g as a,a as r,d as o,h as E,w as d,i as p,b as e,f as x,o as n,F as _,q as F,t as m,e as P,j as y,v as g,y as B}from"./app-DPFc9-e2.js";import{_ as $}from"./AuthenticatedLayout-DHgMUdAb.js";import{M as j}from"./MainContent-BjOld8RQ.js";import{P as z,a as R}from"./PageTitle-CtgO6ozB.js";import{P as C}from"./PrimaryButton-Dq93tcsl.js";import{_ as h,a as M}from"./SecondaryButton-CNIrrfl7.js";import{D as H}from"./Deleteicon-9q5luQZh.js";import{E as T}from"./Editicon-BEG3xixx.js";import{D as q}from"./DangerButton-9PwAqYDS.js";import{S as I}from"./Spinner-BiKmwSKt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={key:0,class:"flex items-center"},O={class:"px-2 overflow-x-auto"},Y={class:"min-w-full border border-gray-200"},G={class:"text-center divide-y divide-gray-200"},J={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},K={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},Q={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},W={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200 flex gap-2"},X=["onClick"],Z=["onClick"],ee={key:1},te={class:"p-6 bg-white"},se={class:"mb-4 text-lg font-medium text-gray-900"},oe={key:0,class:"mt-1 text-sm text-red-600"},re={key:0,class:"mt-1 text-sm text-red-600"},le={key:0},ae={key:0,class:"mt-1 text-sm text-red-600"},de={key:0,class:"mt-1 text-sm text-red-600"},ne={class:"flex justify-end gap-3 mt-6"},ie={key:0,class:"flex items-center gap-2"},me={class:"p-6 bg-white"},ue={class:"flex justify-end gap-3 mt-6"},Ce={__name:"users",props:{users:Array},setup(b){A().props;const c=f(!1),S=f(!1),u=f(null),w=k({});f(!1),f(null),f(null);const s=k({name:"",email:"",role:"",password:""}),D=()=>{u.value=null,s.reset(),c.value=!0},N=i=>{u.value=i,s.name=i.name,s.email=i.email,s.role=i.role,s.password=i.password,c.value=!0},U=()=>{u.value?s.put(`/users/${u.value.id}`,{preserveScroll:!0,onSuccess:()=>{v(),s.reset("form")}}):s.post(route("users.store"),{preserveScroll:!0,onSuccess:()=>{s.reset("form"),c.value=!1}})},v=()=>{c.value=!1,s.reset(),u.value=null};return(i,t)=>(n(),a(_,null,[r(o(E),{title:"User"}),r($,null,{default:d(()=>[r(j,null,{default:d(()=>[r(z,null,{default:d(()=>[r(R,null,{default:d(()=>[...t[4]||(t[4]=[x("Users",-1)])]),_:1}),e("div",null,[r(C,{onClick:D},{default:d(()=>[...t[5]||(t[5]=[x(" + New user ",-1)])]),_:1})])]),_:1}),o(w).recentlySuccessful?(n(),a("span",L,[...t[6]||(t[6]=[e("div",{class:"flex justify-center w-full"},[e("div",{class:"w-1/2 px-4 py-3 mb-4 text-teal-900 bg-teal-100 border-t-4 border-teal-500 rounded-b shadow-md",role:"alert"},[e("div",{class:"flex"},[e("div",{class:"py-1"},[e("svg",{class:"w-6 h-6 mr-4 text-teal-500 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})])]),e("div",null,[e("p",{class:"font-bold"}," Record Deleted Successfully ")])])])],-1)])])):p("",!0),e("div",O,[e("table",Y,[t[8]||(t[8]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Name "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Email "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," IS Admin "),e("th",{class:"p-2 border font-medium border-r text-[13px] border-gray-300"}," Actions ")])],-1)),e("tbody",G,[b.users&&b.users.length?(n(!0),a(_,{key:0},F(b.users,l=>(n(),a("tr",{key:b.users.id,class:"odd:bg-gray-50"},[e("td",J,m(l.name),1),e("td",K,m(l.email),1),e("td",Q,m(l.role===0?"NO":"Yes"),1),e("td",W,[e("button",{onClick:V=>N(l)},[r(T)],8,X),e("button",{onClick:V=>i.confirmDelete(l)},[r(H)],8,Z)])]))),128)):(n(),a("tr",ee,[...t[7]||(t[7]=[e("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"}," Nothing to show ",-1)])]))])])])]),_:1}),r(h,{show:c.value,onClose:v},{default:d(()=>[e("div",te,[e("h2",se,m(u.value?"Edit User":"Create New User"),1),e("form",{onSubmit:P(U,["prevent"]),class:"space-y-4"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).name=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,o(s).name]]),o(s).errors.name?(n(),a("div",oe,m(o(s).errors.name),1)):p("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).email=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,o(s).email]]),o(s).errors.email?(n(),a("div",re,m(o(s).errors.email),1)):p("",!0)]),u.value?(n(),a("div",le,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Role",-1)),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).role=l),id:"inputState",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},[...t[11]||(t[11]=[e("option",{value:"1"},"Admin",-1),e("option",{value:"0"},"User",-1)])],512),[[B,o(s).role]]),o(s).errors.role?(n(),a("div",ae,m(o(s).errors.role),1)):p("",!0)])):p("",!0),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).password=l),type:"text",class:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded shadow-sm"},null,512),[[g,o(s).password]]),o(s).errors.password?(n(),a("div",de,m(o(s).errors.password),1)):p("",!0)]),e("div",ne,[r(M,{onClick:v},{default:d(()=>[...t[14]||(t[14]=[x("Cancel",-1)])]),_:1}),r(C,{type:"submit",disabled:o(s).processing},{default:d(()=>[x(m(u.value?"Update":"Create")+" ",1),o(s).processing?(n(),a("span",ie,[r(I)])):p("",!0)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),r(h,{show:S.value,onClose:i.closeDeleteModal},{default:d(()=>[e("div",me,[t[17]||(t[17]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this record? ",-1)),e("div",ue,[r(M,{onClick:i.closeDeleteModal},{default:d(()=>[...t[15]||(t[15]=[x("Cancel",-1)])]),_:1},8,["onClick"]),r(q,{onClick:i.deleteRepair,disabled:o(w).processing},{default:d(()=>[...t[16]||(t[16]=[x(" Delete ",-1)])]),_:1},8,["onClick","disabled"])])])]),_:1},8,["show","onClose"])]),_:1})],64))}};export{Ce as default};
