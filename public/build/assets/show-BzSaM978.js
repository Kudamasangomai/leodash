import{q as S,u as C,g as o,a as r,d,h as E,w as n,b as t,f as u,e as T,i as f,o as a,t as i,F as m,s as b}from"./app-DCjfw5Qe.js";import{_ as F}from"./AuthenticatedLayout-YTVUFVn9.js";import{M as w}from"./MainContent-C5GHXImD.js";import{P,a as B}from"./PageTitle-BuDo2pys.js";import{P as L}from"./PrimaryButton-iEG0xoRo.js";import{a as g,_ as M}from"./Modal-BKk532xn.js";import{S as N}from"./Spinner-B9RPZ74r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"p-6 space-y-6 rounded shadow-sm mb-4"},$={key:0,class:"text-red-600 text-sm mt-1"},R={class:"flex items-center"},j={key:0,class:"flex items-center"},q={class:"px-2 overflow-x-auto"},D={class:"min-w-full border border-gray-200"},O={class:"divide-y divide-gray-200 whitespace-nowrap"},U={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},A={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},G={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},H={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},z={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},I={class:"px-4 py-3 text-[14px] text-slate-900 border-r border-gray-200"},J={key:0},K={key:1},Q={class:"p-4 bg-green-200"},W={class:"flex justify-end mt-6"},ot={__name:"show",props:{v:Object,reports:Array},setup(x){const c=S(!1),y=()=>{c.value=!1},l=C({file:null});function k(p){const e=p.target.files&&p.target.files[0]?p.target.files[0]:null;l.file=e}function h(){l.file&&l.post("/moving-report/upload",{preserveScroll:!0,onSuccess:()=>{l.reset(),c.value=!0},onError:()=>{}})}return(p,e)=>(a(),o(m,null,[r(d(E),{title:"Early Start"}),r(F,null,{default:n(()=>[r(w,null,{default:n(()=>[r(P,null,{default:n(()=>[r(B,null,{default:n(()=>[...e[1]||(e[1]=[u(" Early Start Report",-1)])]),_:1}),e[2]||(e[2]=t("div",null,[t("div")],-1))]),_:1}),t("div",V,[t("form",{onSubmit:T(h,["prevent"]),enctype:"multipart/form-data",class:"space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700"}," Select Excel File (.xls or .xlsx) ",-1)),t("input",{type:"file",accept:".xlsx,.xls",onChange:k,required:"",class:"mt-1 block w-full text-sm text-gray-700 p-4"},null,32),d(l).errors.file?(a(),o("div",$,i(d(l).errors.file),1)):f("",!0)]),t("div",R,[r(L,{type:"submit",disabled:d(l).processing},{default:n(()=>[e[4]||(e[4]=u(" Upload ",-1)),d(l).processing?(a(),o("span",j,[r(N)])):f("",!0)]),_:1},8,["disabled"]),r(g,{type:"button",class:"ms-3",onClick:e[0]||(e[0]=s=>d(l).reset("file"))},{default:n(()=>[...e[5]||(e[5]=[u(" Cancel ",-1)])]),_:1})])],32)]),t("div",q,[t("table",D,[e[7]||(e[7]=t("thead",{class:"bg-gray-200"},[t("tr",null,[t("th",{class:"p-2 border"},"Location"),t("th",{class:"p-2 border"},"Early Trucks"),t("th",{class:"p-2 border"},"Trucks E/R"),t("th",{class:"p-2 border"},"1st Truck"),t("th",{class:"p-2 border"},"Last Truck"),t("th",{class:"p-2 border"},"Last 3 Trucks")])],-1)),t("tbody",O,[x.reports?(a(!0),o(m,{key:0},b(x.reports,s=>(a(),o("tr",{key:s.id,class:"odd:bg-gray-50 text-center"},[t("td",U,i(s.location),1),t("td",A,i(s.total_trucks),1),t("td",G,i(s.total_trucks),1),t("td",H,i(s.first_time),1),t("td",z,i(s.last_time),1),t("td",I,[s.last_3&&s.last_3.length?(a(),o("p",J,[(a(!0),o(m,null,b(s.last_3,(_,v)=>(a(),o("span",{key:v,class:"inline-block px-2 py-1 mr-1 rounded"},i(_.asset)+" ("+i(_.time)+") ",1))),128))])):f("",!0)])]))),128)):(a(),o("tr",K,[...e[6]||(e[6]=[t("td",null,"nothign to show",-1)])]))])])])]),_:1}),r(M,{show:c.value,onClose:y},{default:n(()=>[t("div",Q,[e[9]||(e[9]=t("h2",{class:"text-lg font-medium text-gray-900"}," Early Start Report Succesfully Generated ",-1)),t("div",W,[r(g,{onClick:y},{default:n(()=>[...e[8]||(e[8]=[u(" Ok ",-1)])]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{ot as default};
